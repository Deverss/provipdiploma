{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.output = exports.exists = exports.hash = exports.bytes = exports.bool = exports.number = void 0;\n\nfunction number(n) {\n  if (!Number.isSafeInteger(n) || n < 0) throw new Error(`Wrong positive integer: ${n}`);\n}\n\nexports.number = number;\n\nfunction bool(b) {\n  if (typeof b !== 'boolean') throw new Error(`Expected boolean, not ${b}`);\n}\n\nexports.bool = bool;\n\nfunction bytes(b, ...lengths) {\n  if (!(b instanceof Uint8Array)) throw new TypeError('Expected Uint8Array');\n  if (lengths.length > 0 && !lengths.includes(b.length)) throw new TypeError(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\n\nexports.bytes = bytes;\n\nfunction hash(hash) {\n  if (typeof hash !== 'function' || typeof hash.create !== 'function') throw new Error('Hash should be wrapped by utils.wrapConstructor');\n  number(hash.outputLen);\n  number(hash.blockLen);\n}\n\nexports.hash = hash;\n\nfunction exists(instance, checkFinished = true) {\n  if (instance.destroyed) throw new Error('Hash instance has been destroyed');\n  if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');\n}\n\nexports.exists = exists;\n\nfunction output(out, instance) {\n  bytes(out);\n  const min = instance.outputLen;\n\n  if (out.length < min) {\n    throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n  }\n}\n\nexports.output = output;\nconst assert = {\n  number,\n  bool,\n  bytes,\n  hash,\n  exists,\n  output\n};\nexports.default = assert;","map":{"version":3,"sources":["src/_assert.ts"],"names":[],"mappings":";;;;;;;AAAA,SAAgB,MAAhB,CAAuB,CAAvB,EAAgC;AAC9B,MAAI,CAAC,MAAM,CAAC,aAAP,CAAqB,CAArB,CAAD,IAA4B,CAAC,GAAG,CAApC,EAAuC,MAAM,IAAI,KAAJ,CAAU,2BAA2B,CAAC,EAAtC,CAAN;AACxC;;AAFD,OAAA,CAAA,MAAA,GAAA,MAAA;;AAIA,SAAgB,IAAhB,CAAqB,CAArB,EAA+B;AAC7B,MAAI,OAAO,CAAP,KAAa,SAAjB,EAA4B,MAAM,IAAI,KAAJ,CAAU,yBAAyB,CAAC,EAApC,CAAN;AAC7B;;AAFD,OAAA,CAAA,IAAA,GAAA,IAAA;;AAIA,SAAgB,KAAhB,CAAsB,CAAtB,EAAiD,GAAG,OAApD,EAAqE;AACnE,MAAI,EAAE,CAAC,YAAY,UAAf,CAAJ,EAAgC,MAAM,IAAI,SAAJ,CAAc,qBAAd,CAAN;AAChC,MAAI,OAAO,CAAC,MAAR,GAAiB,CAAjB,IAAsB,CAAC,OAAO,CAAC,QAAR,CAAiB,CAAC,CAAC,MAAnB,CAA3B,EACE,MAAM,IAAI,SAAJ,CAAc,iCAAiC,OAAO,mBAAmB,CAAC,CAAC,MAAM,EAAjF,CAAN;AACH;;AAJD,OAAA,CAAA,KAAA,GAAA,KAAA;;AAYA,SAAgB,IAAhB,CAAqB,IAArB,EAA+B;AAC7B,MAAI,OAAO,IAAP,KAAgB,UAAhB,IAA8B,OAAO,IAAI,CAAC,MAAZ,KAAuB,UAAzD,EACE,MAAM,IAAI,KAAJ,CAAU,iDAAV,CAAN;AACF,EAAA,MAAM,CAAC,IAAI,CAAC,SAAN,CAAN;AACA,EAAA,MAAM,CAAC,IAAI,CAAC,QAAN,CAAN;AACD;;AALD,OAAA,CAAA,IAAA,GAAA,IAAA;;AAOA,SAAgB,MAAhB,CAAuB,QAAvB,EAAsC,aAAa,GAAG,IAAtD,EAA0D;AACxD,MAAI,QAAQ,CAAC,SAAb,EAAwB,MAAM,IAAI,KAAJ,CAAU,kCAAV,CAAN;AACxB,MAAI,aAAa,IAAI,QAAQ,CAAC,QAA9B,EAAwC,MAAM,IAAI,KAAJ,CAAU,uCAAV,CAAN;AACzC;;AAHD,OAAA,CAAA,MAAA,GAAA,MAAA;;AAIA,SAAgB,MAAhB,CAAuB,GAAvB,EAAiC,QAAjC,EAA8C;AAC5C,EAAA,KAAK,CAAC,GAAD,CAAL;AACA,QAAM,GAAG,GAAG,QAAQ,CAAC,SAArB;;AACA,MAAI,GAAG,CAAC,MAAJ,GAAa,GAAjB,EAAsB;AACpB,UAAM,IAAI,KAAJ,CAAU,yDAAyD,GAAG,EAAtE,CAAN;AACD;AACF;;AAND,OAAA,CAAA,MAAA,GAAA,MAAA;AAQA,MAAM,MAAM,GAAG;AACb,EAAA,MADa;AAEb,EAAA,IAFa;AAGb,EAAA,KAHa;AAIb,EAAA,IAJa;AAKb,EAAA,MALa;AAMb,EAAA;AANa,CAAf;AASA,OAAA,CAAA,OAAA,GAAe,MAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.output = exports.exists = exports.hash = exports.bytes = exports.bool = exports.number = void 0;\nfunction number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`Wrong positive integer: ${n}`);\n}\nexports.number = number;\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`Expected boolean, not ${b}`);\n}\nexports.bool = bool;\nfunction bytes(b, ...lengths) {\n    if (!(b instanceof Uint8Array))\n        throw new TypeError('Expected Uint8Array');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new TypeError(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\nexports.bytes = bytes;\nfunction hash(hash) {\n    if (typeof hash !== 'function' || typeof hash.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(hash.outputLen);\n    number(hash.blockLen);\n}\nexports.hash = hash;\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nexports.exists = exists;\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexports.output = output;\nconst assert = {\n    number,\n    bool,\n    bytes,\n    hash,\n    exists,\n    output,\n};\nexports.default = assert;\n//# sourceMappingURL=_assert.js.map"]},"metadata":{},"sourceType":"script"}