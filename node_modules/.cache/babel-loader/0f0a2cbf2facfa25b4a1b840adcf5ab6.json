{"ast":null,"code":"import _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { SafeEventEmitter } from '@toruslabs/openlogin-jrpc';\nimport { CustomError } from 'ts-custom-error';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { post } from '@toruslabs/http-helpers';\nimport JwtDecode from 'jwt-decode';\nimport loglevel from 'loglevel';\nvar CHAIN_NAMESPACES = {\n  EIP155: \"eip155\",\n  SOLANA: \"solana\",\n  OTHER: \"other\"\n};\nvar ADAPTER_NAMESPACES = {\n  EIP155: \"eip155\",\n  SOLANA: \"solana\",\n  MULTICHAIN: \"multichain\"\n};\n\nvar getDefaultNetworkId = function getDefaultNetworkId(chainNamespace) {\n  if (chainNamespace === CHAIN_NAMESPACES.EIP155) {\n    return 1;\n  } else if (chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n    return 1;\n  }\n\n  throw new Error(\"Chain namespace \".concat(chainNamespace, \" is not supported\"));\n};\n\nvar getEvmChainConfig = function getEvmChainConfig(chainId) {\n  var chainNamespace = CHAIN_NAMESPACES.EIP155;\n\n  if (chainId === 1) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x1\",\n      rpcTarget: \"https://rpc.ankr.com/eth\",\n      displayName: \"Ethereum Mainnet\",\n      blockExplorer: \"https://etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\"\n    };\n  }\n\n  if (chainId === 3) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x3\",\n      rpcTarget: \"https://rpc.ankr.com/eth_ropsten\",\n      displayName: \"Ropsten Testnet\",\n      blockExplorer: \"https://ropsten.etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\"\n    };\n  }\n\n  if (chainId === 4) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x4\",\n      rpcTarget: \"https://rpc.ankr.com/eth_rinkeby\",\n      displayName: \"Rinkeby Testnet\",\n      blockExplorer: \"https://rinkeby.etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\"\n    };\n  }\n\n  if (chainId === 5) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x5\",\n      rpcTarget: \"https://rpc.ankr.com/eth_goerli\",\n      displayName: \"Goerli Testnet\",\n      blockExplorer: \"https://goerli.etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\"\n    };\n  }\n\n  if (chainId === 137) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x89\",\n      rpcTarget: \"https://rpc.ankr.com/polygon\",\n      displayName: \"Polygon Mainnet\",\n      blockExplorer: \"https://polygonscan.com\",\n      ticker: \"MATIC\",\n      tickerName: \"Polygon\"\n    };\n  }\n\n  if (chainId === 80001) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x13881\",\n      rpcTarget: \"https://rpc.ankr.com/polygon_mumbai\",\n      displayName: \"Polygon Mumbai Testnet\",\n      blockExplorer: \"https://mumbai.polygonscan.com/\",\n      ticker: \"MATIC\",\n      tickerName: \"Polygon\"\n    };\n  }\n\n  if (chainId === 56) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x38\",\n      rpcTarget: \"https://rpc.ankr.com/bsc\",\n      displayName: \"Binance SmartChain Mainnet\",\n      blockExplorer: \"https://bscscan.com\",\n      ticker: \"BNB\",\n      tickerName: \"Binance SmartChain\"\n    };\n  }\n\n  if (chainId === 97) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x61\",\n      rpcTarget: \"https://rpc.ankr.com/bsc_testnet_chapel\",\n      displayName: \"Binance SmartChain Testnet\",\n      blockExplorer: \"https://testnet.bscscan.com\",\n      ticker: \"BNB\",\n      tickerName: \"Binance SmartChain\"\n    };\n  }\n\n  if (chainId === 25) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x19\",\n      rpcTarget: \"https://rpc.cronos.org\",\n      displayName: \"Cronos Mainnet\",\n      blockExplorer: \"https://cronoscan.com/\",\n      ticker: \"CRO\",\n      tickerName: \"Cronos\"\n    };\n  }\n\n  if (chainId === 338) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x152\",\n      rpcTarget: \"https://rpc-t3.cronos.org/\",\n      displayName: \"Cronos Testnet\",\n      blockExplorer: \"https://cronoscan.com/\",\n      ticker: \"CRO\",\n      tickerName: \"Cronos\"\n    };\n  }\n\n  if (chainId === 8217) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x2019\",\n      rpcTarget: \"https://public-node-api.klaytnapi.com/v1/cypress\",\n      displayName: \"Klaytn Mainnet\",\n      blockExplorer: \"https://scope.klaytn.com\",\n      ticker: \"KLAY\",\n      tickerName: \"Klaytn\"\n    };\n  }\n\n  return null;\n};\n\nvar getSolanaChainConfig = function getSolanaChainConfig(chainId) {\n  var chainNamespace = CHAIN_NAMESPACES.SOLANA;\n\n  if (chainId === 1) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x1\",\n      rpcTarget: \"https://rpc.ankr.com/solana\",\n      displayName: \"Solana Mainnet\",\n      blockExplorer: \"https://explorer.solana.com\",\n      ticker: \"SOL\",\n      tickerName: \"Solana\"\n    };\n  } else if (chainId === 2) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x2\",\n      rpcTarget: \"https://api.testnet.solana.com\",\n      displayName: \"Solana Testnet\",\n      blockExplorer: \"https://explorer.solana.com?cluster=testnet\",\n      ticker: \"SOL\",\n      tickerName: \"Solana\"\n    };\n  } else if (chainId === 3) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x3\",\n      rpcTarget: \"https://api.devnet.solana.com\",\n      displayName: \"Solana Devnet\",\n      blockExplorer: \"https://explorer.solana.com?cluster=devnet\",\n      ticker: \"SOL\",\n      tickerName: \"Solana\"\n    };\n  }\n\n  return null;\n};\n\nvar getChainConfig = function getChainConfig(chainNamespace, chainId) {\n  if (chainNamespace === CHAIN_NAMESPACES.OTHER) return null;\n  var finalChainId = chainId ? typeof chainId === \"number\" ? chainId : parseInt(chainId, 16) : getDefaultNetworkId(chainNamespace);\n\n  if (chainNamespace === CHAIN_NAMESPACES.EIP155) {\n    return getEvmChainConfig(finalChainId);\n  } else if (chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n    return getSolanaChainConfig(finalChainId);\n  }\n\n  return null;\n};\n\nfunction _createSuper$1(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct$1();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct$1() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar Web3AuthError = /*#__PURE__*/function (_CustomError) {\n  _inherits(Web3AuthError, _CustomError);\n\n  var _super = _createSuper$1(Web3AuthError);\n\n  function Web3AuthError(code, message) {\n    var _this;\n\n    _classCallCheck(this, Web3AuthError); // takes care of stack and proto\n\n\n    _this = _super.call(this, message);\n\n    _defineProperty(_assertThisInitialized(_this), \"code\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"message\", void 0);\n\n    _this.code = code;\n    _this.message = message || \"\"; // Set name explicitly as minification can mangle class names\n\n    Object.defineProperty(_assertThisInitialized(_this), \"name\", {\n      value: \"Web3AuthError\"\n    });\n    return _this;\n  }\n\n  _createClass(Web3AuthError, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        name: this.name,\n        code: this.code,\n        message: this.message\n      };\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return JSON.stringify(this.toJSON());\n    }\n  }]);\n\n  return Web3AuthError;\n}(CustomError);\n\nvar WalletInitializationError = /*#__PURE__*/function (_Web3AuthError) {\n  _inherits(WalletInitializationError, _Web3AuthError);\n\n  var _super2 = _createSuper$1(WalletInitializationError);\n\n  function WalletInitializationError(code, message) {\n    var _this2;\n\n    _classCallCheck(this, WalletInitializationError); // takes care of stack and proto\n\n\n    _this2 = _super2.call(this, code, message); // Set name explicitly as minification can mangle class names\n\n    Object.defineProperty(_assertThisInitialized(_this2), \"name\", {\n      value: \"WalletInitializationError\"\n    });\n    return _this2;\n  }\n\n  _createClass(WalletInitializationError, null, [{\n    key: \"fromCode\",\n    value: function fromCode(code) {\n      var extraMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      return new WalletInitializationError(code, \"\".concat(WalletInitializationError.messages[code], \", \").concat(extraMessage));\n    } // Custom methods\n\n  }, {\n    key: \"notFound\",\n    value: function notFound() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5001, extraMessage);\n    }\n  }, {\n    key: \"notInstalled\",\n    value: function notInstalled() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5002, extraMessage);\n    }\n  }, {\n    key: \"notReady\",\n    value: function notReady() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5003, extraMessage);\n    }\n  }, {\n    key: \"windowBlocked\",\n    value: function windowBlocked() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5004, extraMessage);\n    }\n  }, {\n    key: \"windowClosed\",\n    value: function windowClosed() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5005, extraMessage);\n    }\n  }, {\n    key: \"incompatibleChainNameSpace\",\n    value: function incompatibleChainNameSpace() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5006, extraMessage);\n    }\n  }, {\n    key: \"duplicateAdapterError\",\n    value: function duplicateAdapterError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5007, extraMessage);\n    }\n  }, {\n    key: \"invalidProviderConfigError\",\n    value: function invalidProviderConfigError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5008, extraMessage);\n    }\n  }, {\n    key: \"providerNotReadyError\",\n    value: function providerNotReadyError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5009, extraMessage);\n    }\n  }, {\n    key: \"rpcConnectionError\",\n    value: function rpcConnectionError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5010, extraMessage);\n    }\n  }, {\n    key: \"invalidParams\",\n    value: function invalidParams() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5011, extraMessage);\n    }\n  }, {\n    key: \"invalidNetwork\",\n    value: function invalidNetwork() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5013, extraMessage);\n    }\n  }]);\n\n  return WalletInitializationError;\n}(Web3AuthError);\n/**\n * wallet login errors\n */\n\n\n_defineProperty(WalletInitializationError, \"messages\", {\n  5000: \"Custom\",\n  5001: \"Wallet is not found\",\n  5002: \"Wallet is not installed\",\n  5003: \"Wallet is not ready yet\",\n  5004: \"Wallet window is blocked\",\n  5005: \"Wallet window has been closed by the user\",\n  5006: \"Incompatible chain namespace provided\",\n  5007: \"Adapter has already been included\",\n  5008: \"Invalid provider Config\",\n  5009: \"Provider is not ready yet\",\n  5010: \"Failed to connect with rpc url\",\n  5011: \"Invalid params passed in\",\n  5013: \"Invalid network provided\"\n});\n\nvar WalletLoginError = /*#__PURE__*/function (_Web3AuthError2) {\n  _inherits(WalletLoginError, _Web3AuthError2);\n\n  var _super3 = _createSuper$1(WalletLoginError);\n\n  function WalletLoginError(code, message) {\n    var _this3;\n\n    _classCallCheck(this, WalletLoginError); // takes care of stack and proto\n\n\n    _this3 = _super3.call(this, code, message); // Set name explicitly as minification can mangle class names\n\n    Object.defineProperty(_assertThisInitialized(_this3), \"name\", {\n      value: \"WalletLoginError\"\n    });\n    return _this3;\n  }\n\n  _createClass(WalletLoginError, null, [{\n    key: \"fromCode\",\n    value: function fromCode(code) {\n      var extraMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      return new WalletLoginError(code, \"\".concat(WalletLoginError.messages[code]).concat(extraMessage));\n    }\n  }, {\n    key: \"connectionError\",\n    value: function connectionError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletLoginError.fromCode(5111, extraMessage);\n    }\n  }, {\n    key: \"disconnectionError\",\n    value: function disconnectionError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletLoginError.fromCode(5112, extraMessage);\n    }\n  }, {\n    key: \"notConnectedError\",\n    value: function notConnectedError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletLoginError.fromCode(5113, extraMessage);\n    }\n  }, {\n    key: \"popupClosed\",\n    value: function popupClosed() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletLoginError.fromCode(5114, extraMessage);\n    }\n  }]);\n\n  return WalletLoginError;\n}(Web3AuthError);\n\n_defineProperty(WalletLoginError, \"messages\", {\n  5000: \"Custom\",\n  5111: \"Failed to connect with wallet\",\n  5112: \"Failed to disconnect from wallet\",\n  5113: \"Wallet is not connected\",\n  5114: \"Wallet popup has been closed by the user\"\n});\n\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar MULTI_CHAIN_ADAPTERS = {\n  OPENLOGIN: \"openlogin\",\n  WALLET_CONNECT_V1: \"wallet-connect-v1\",\n  WALLET_CONNECT_V2: \"wallet-connect-v2\"\n};\n\nvar SOLANA_ADAPTERS = _objectSpread$1({\n  TORUS_SOLANA: \"torus-solana\",\n  PHANTOM: \"phantom\",\n  SOLLET: \"sollet\",\n  SOLLET_EXTENSION: \"sollet-extension\",\n  SOLFLARE: \"solflare\",\n  SLOPE: \"slope\"\n}, MULTI_CHAIN_ADAPTERS);\n\nvar EVM_ADAPTERS = _objectSpread$1({\n  TORUS_EVM: \"torus-evm\",\n  METAMASK: \"metamask\",\n  COINBASE: \"coinbase\"\n}, MULTI_CHAIN_ADAPTERS);\n\nvar WALLET_ADAPTERS = _objectSpread$1(_objectSpread$1({}, EVM_ADAPTERS), SOLANA_ADAPTERS);\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar ADAPTER_CATEGORY = {\n  EXTERNAL: \"external\",\n  IN_APP: \"in_app\"\n};\nvar ADAPTER_STATUS = {\n  NOT_READY: \"not_ready\",\n  READY: \"ready\",\n  CONNECTING: \"connecting\",\n  CONNECTED: \"connected\",\n  DISCONNECTED: \"disconnected\",\n  ERRORED: \"errored\"\n};\n\nvar ADAPTER_EVENTS = _objectSpread(_objectSpread({}, ADAPTER_STATUS), {}, {\n  ADAPTER_DATA_UPDATED: \"adapter_data_updated\"\n});\n\nvar BaseAdapter = /*#__PURE__*/function (_SafeEventEmitter) {\n  _inherits(BaseAdapter, _SafeEventEmitter);\n\n  var _super = _createSuper(BaseAdapter);\n\n  function BaseAdapter() {\n    var _this;\n\n    _classCallCheck(this, BaseAdapter);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"adapterData\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"sessionTime\", 86400);\n\n    _defineProperty(_assertThisInitialized(_this), \"chainConfig\", null);\n\n    return _this;\n  }\n\n  _createClass(BaseAdapter, [{\n    key: \"chainConfigProxy\",\n    get: function get() {\n      return this.chainConfig ? _objectSpread({}, this.chainConfig) : null;\n    }\n  }, {\n    key: \"setChainConfig\",\n    value: function setChainConfig(customChainConfig) {\n      if (this.status === ADAPTER_STATUS.READY) return;\n      if (!customChainConfig.chainNamespace) throw WalletInitializationError.notReady(\"ChainNamespace is required while setting chainConfig\");\n      var defaultChainConfig = getChainConfig(customChainConfig.chainNamespace, customChainConfig.chainId);\n      this.chainConfig = _objectSpread(_objectSpread({}, defaultChainConfig), customChainConfig);\n    }\n  }, {\n    key: \"setAdapterSettings\",\n    value: function setAdapterSettings(_) {}\n  }, {\n    key: \"checkConnectionRequirements\",\n    value: function checkConnectionRequirements() {\n      // we reconnect without killing existing wallet connect session on calling connect again.\n      if (this.name === WALLET_ADAPTERS.WALLET_CONNECT_V1 && this.status === ADAPTER_STATUS.CONNECTING) return;else if (this.status === ADAPTER_STATUS.CONNECTING) throw WalletInitializationError.notReady(\"Already connecting\");\n      if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletLoginError.connectionError(\"Already connected\");\n      if (this.status !== ADAPTER_STATUS.READY) throw WalletLoginError.connectionError(\"Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function\");\n      if (!this.clientId) throw WalletLoginError.connectionError(\"Please initialize Web3Auth with a valid clientId in constructor\");\n    }\n  }, {\n    key: \"checkInitializationRequirements\",\n    value: function checkInitializationRequirements() {\n      if (this.status === ADAPTER_STATUS.NOT_READY) return;\n      if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletInitializationError.notReady(\"Already connected\");\n      if (this.status === ADAPTER_STATUS.READY) throw WalletInitializationError.notReady(\"Adapter is already initialized\");\n    }\n  }, {\n    key: \"updateAdapterData\",\n    value: function updateAdapterData(data) {\n      this.adapterData = data;\n      this.emit(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, {\n        adapterName: this.name,\n        data: data\n      });\n    }\n  }]);\n\n  return BaseAdapter;\n}(SafeEventEmitter);\n\nvar BaseNetworkSwitch = /*#__PURE__*/_createClass(function BaseNetworkSwitch() {\n  _classCallCheck(this, BaseNetworkSwitch);\n});\n\nvar authServer = \"https://authjs.web3auth.io\";\nvar log = loglevel.getLogger(\"web3auth-logger\");\n\nfunction storageAvailable(type) {\n  var storageExists = false;\n  var storageLength = 0;\n  var storage;\n\n  try {\n    storage = window[type];\n    storageExists = true;\n    storageLength = storage.length;\n    var x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (error) {\n    var _error = error;\n    return !!(_error && ( // everything except Firefox\n    _error.code === 22 || // Firefox\n    _error.code === 1014 || // test name field too, because code might not be present\n    // everything except Firefox\n    _error.name === \"QuotaExceededError\" || // Firefox\n    _error.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && // acknowledge QuotaExceededError only if there's something already stored\n    storageExists && storageLength !== 0);\n  }\n}\n\nvar isHexStrict = function isHexStrict(hex) {\n  return (typeof hex === \"string\" || typeof hex === \"number\") && /^(-)?0x[0-9a-f]*$/i.test(hex);\n};\n\nvar checkIfTokenIsExpired = function checkIfTokenIsExpired(token) {\n  var decoded = JwtDecode(token);\n\n  if (!decoded.exp) {\n    return true;\n  }\n\n  if (decoded.exp < Math.floor(Date.now() / 1000)) {\n    return true;\n  }\n\n  return false;\n};\n\nvar signChallenge = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(payload, chainNamespace) {\n    var t, header, network, data, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            t = chainNamespace === \"solana\" ? \"sip99\" : \"eip191\";\n            header = {\n              t: t\n            };\n            network = chainNamespace === \"solana\" ? \"solana\" : \"ethereum\";\n            data = {\n              payload: payload,\n              header: header,\n              network: network\n            };\n            _context.next = 6;\n            return post(\"\".concat(authServer, \"/siww/get\"), data);\n\n          case 6:\n            res = _context.sent;\n\n            if (res.success) {\n              _context.next = 9;\n              break;\n            }\n\n            throw new Error(\"Failed to authenticate user, Please reach out to Web3Auth Support team\");\n\n          case 9:\n            return _context.abrupt(\"return\", res.challenge);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function signChallenge(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar verifySignedChallenge = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(chainNamespace, signedMessage, challenge, issuer, sessionTime, clientId) {\n    var t, sigData, idTokenRes;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            t = chainNamespace === \"solana\" ? \"sip99\" : \"eip191\";\n            sigData = {\n              signature: {\n                s: signedMessage,\n                t: t\n              },\n              message: challenge,\n              issuer: issuer,\n              audience: window.location.hostname,\n              timeout: sessionTime\n            };\n            _context2.next = 4;\n            return post(\"\".concat(authServer, \"/siww/verify\"), sigData, {\n              headers: {\n                client_id: clientId,\n                wallet_provider: issuer\n              }\n            });\n\n          case 4:\n            idTokenRes = _context2.sent;\n\n            if (idTokenRes.success) {\n              _context2.next = 8;\n              break;\n            }\n\n            log.error(\"Failed to authenticate user, ,message verification failed\", idTokenRes.error);\n            throw new Error(\"Failed to authenticate user, ,message verification failed\");\n\n          case 8:\n            return _context2.abrupt(\"return\", idTokenRes.token);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function verifySignedChallenge(_x3, _x4, _x5, _x6, _x7, _x8) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getSavedToken = function getSavedToken(userAddress, issuer) {\n  if (storageAvailable(\"localStorage\")) {\n    return localStorage.getItem(\"\".concat(userAddress.toLowerCase(), \"_\").concat(issuer));\n  }\n\n  return null;\n};\n\nvar saveToken = function saveToken(userAddress, issuer, token) {\n  if (storageAvailable(\"localStorage\")) {\n    return localStorage.setItem(\"\".concat(userAddress.toLowerCase(), \"_\").concat(issuer), token);\n  }\n\n  return null;\n};\n\nvar clearToken = function clearToken(userAddress, issuer) {\n  if (storageAvailable(\"localStorage\")) {\n    return localStorage.removeItem(\"\".concat(userAddress.toLowerCase(), \"_\").concat(issuer));\n  }\n\n  return null;\n};\n\nvar PROVIDER_EVENTS = {\n  INITIALIZED: \"initialized\",\n  ERRORED: \"errored\"\n};\nexport { ADAPTER_CATEGORY, ADAPTER_EVENTS, ADAPTER_NAMESPACES, ADAPTER_STATUS, BaseAdapter, BaseNetworkSwitch, CHAIN_NAMESPACES, EVM_ADAPTERS, MULTI_CHAIN_ADAPTERS, PROVIDER_EVENTS, SOLANA_ADAPTERS, WALLET_ADAPTERS, WalletInitializationError, WalletLoginError, Web3AuthError, authServer, checkIfTokenIsExpired, clearToken, getChainConfig, getEvmChainConfig, getSavedToken, getSolanaChainConfig, isHexStrict, log, saveToken, signChallenge, storageAvailable, verifySignedChallenge };","map":{"version":3,"sources":["../src/chain/IChainInterface.ts","../src/chain/config.ts","../src/errors/index.ts","../src/wallet/index.ts","../src/adapter/IAdapter.ts","../src/constants.ts","../src/loglevel.ts","../src/utils.ts","../src/adapter/utils.ts","../src/provider/IProvider.ts"],"names":["CHAIN_NAMESPACES","EIP155","SOLANA","OTHER","ADAPTER_NAMESPACES","MULTICHAIN","getDefaultNetworkId","chainNamespace","getEvmChainConfig","chainId","rpcTarget","displayName","blockExplorer","ticker","tickerName","getSolanaChainConfig","getChainConfig","finalChainId","parseInt","Web3AuthError","code","message","Object","value","name","JSON","WalletInitializationError","extraMessage","WalletLoginError","MULTI_CHAIN_ADAPTERS","OPENLOGIN","WALLET_CONNECT_V1","WALLET_CONNECT_V2","SOLANA_ADAPTERS","TORUS_SOLANA","PHANTOM","SOLLET","SOLLET_EXTENSION","SOLFLARE","SLOPE","EVM_ADAPTERS","TORUS_EVM","METAMASK","COINBASE","WALLET_ADAPTERS","ADAPTER_CATEGORY","EXTERNAL","IN_APP","ADAPTER_STATUS","NOT_READY","READY","CONNECTING","CONNECTED","DISCONNECTED","ERRORED","ADAPTER_EVENTS","ADAPTER_DATA_UPDATED","BaseAdapter","customChainConfig","defaultChainConfig","adapterName","data","BaseNetworkSwitch","authServer","loglevel","storageExists","storageLength","storage","window","x","_error","isHexStrict","checkIfTokenIsExpired","decoded","JwtDecode","Math","Date","signChallenge","t","header","network","payload","res","post","verifySignedChallenge","sigData","signature","s","issuer","audience","timeout","sessionTime","idTokenRes","headers","client_id","wallet_provider","log","getSavedToken","storageAvailable","localStorage","userAddress","saveToken","clearToken","PROVIDER_EVENTS","INITIALIZED"],"mappings":"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","sourcesContent":["import _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { SafeEventEmitter } from '@toruslabs/openlogin-jrpc';\nimport { CustomError } from 'ts-custom-error';\nimport _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport { post } from '@toruslabs/http-helpers';\nimport JwtDecode from 'jwt-decode';\nimport loglevel from 'loglevel';\n\nvar CHAIN_NAMESPACES = {\n  EIP155: \"eip155\",\n  SOLANA: \"solana\",\n  OTHER: \"other\"\n};\nvar ADAPTER_NAMESPACES = {\n  EIP155: \"eip155\",\n  SOLANA: \"solana\",\n  MULTICHAIN: \"multichain\"\n};\n\nvar getDefaultNetworkId = function getDefaultNetworkId(chainNamespace) {\n  if (chainNamespace === CHAIN_NAMESPACES.EIP155) {\n    return 1;\n  } else if (chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n    return 1;\n  }\n\n  throw new Error(\"Chain namespace \".concat(chainNamespace, \" is not supported\"));\n};\n\nvar getEvmChainConfig = function getEvmChainConfig(chainId) {\n  var chainNamespace = CHAIN_NAMESPACES.EIP155;\n\n  if (chainId === 1) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x1\",\n      rpcTarget: \"https://rpc.ankr.com/eth\",\n      displayName: \"Ethereum Mainnet\",\n      blockExplorer: \"https://etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\"\n    };\n  }\n\n  if (chainId === 3) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x3\",\n      rpcTarget: \"https://rpc.ankr.com/eth_ropsten\",\n      displayName: \"Ropsten Testnet\",\n      blockExplorer: \"https://ropsten.etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\"\n    };\n  }\n\n  if (chainId === 4) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x4\",\n      rpcTarget: \"https://rpc.ankr.com/eth_rinkeby\",\n      displayName: \"Rinkeby Testnet\",\n      blockExplorer: \"https://rinkeby.etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\"\n    };\n  }\n\n  if (chainId === 5) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x5\",\n      rpcTarget: \"https://rpc.ankr.com/eth_goerli\",\n      displayName: \"Goerli Testnet\",\n      blockExplorer: \"https://goerli.etherscan.io/\",\n      ticker: \"ETH\",\n      tickerName: \"Ethereum\"\n    };\n  }\n\n  if (chainId === 137) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x89\",\n      rpcTarget: \"https://rpc.ankr.com/polygon\",\n      displayName: \"Polygon Mainnet\",\n      blockExplorer: \"https://polygonscan.com\",\n      ticker: \"MATIC\",\n      tickerName: \"Polygon\"\n    };\n  }\n\n  if (chainId === 80001) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x13881\",\n      rpcTarget: \"https://rpc.ankr.com/polygon_mumbai\",\n      displayName: \"Polygon Mumbai Testnet\",\n      blockExplorer: \"https://mumbai.polygonscan.com/\",\n      ticker: \"MATIC\",\n      tickerName: \"Polygon\"\n    };\n  }\n\n  if (chainId === 56) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x38\",\n      rpcTarget: \"https://rpc.ankr.com/bsc\",\n      displayName: \"Binance SmartChain Mainnet\",\n      blockExplorer: \"https://bscscan.com\",\n      ticker: \"BNB\",\n      tickerName: \"Binance SmartChain\"\n    };\n  }\n\n  if (chainId === 97) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x61\",\n      rpcTarget: \"https://rpc.ankr.com/bsc_testnet_chapel\",\n      displayName: \"Binance SmartChain Testnet\",\n      blockExplorer: \"https://testnet.bscscan.com\",\n      ticker: \"BNB\",\n      tickerName: \"Binance SmartChain\"\n    };\n  }\n\n  if (chainId === 25) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x19\",\n      rpcTarget: \"https://rpc.cronos.org\",\n      displayName: \"Cronos Mainnet\",\n      blockExplorer: \"https://cronoscan.com/\",\n      ticker: \"CRO\",\n      tickerName: \"Cronos\"\n    };\n  }\n\n  if (chainId === 338) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x152\",\n      rpcTarget: \"https://rpc-t3.cronos.org/\",\n      displayName: \"Cronos Testnet\",\n      blockExplorer: \"https://cronoscan.com/\",\n      ticker: \"CRO\",\n      tickerName: \"Cronos\"\n    };\n  }\n\n  if (chainId === 8217) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x2019\",\n      rpcTarget: \"https://public-node-api.klaytnapi.com/v1/cypress\",\n      displayName: \"Klaytn Mainnet\",\n      blockExplorer: \"https://scope.klaytn.com\",\n      ticker: \"KLAY\",\n      tickerName: \"Klaytn\"\n    };\n  }\n\n  return null;\n};\nvar getSolanaChainConfig = function getSolanaChainConfig(chainId) {\n  var chainNamespace = CHAIN_NAMESPACES.SOLANA;\n\n  if (chainId === 1) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x1\",\n      rpcTarget: \"https://rpc.ankr.com/solana\",\n      displayName: \"Solana Mainnet\",\n      blockExplorer: \"https://explorer.solana.com\",\n      ticker: \"SOL\",\n      tickerName: \"Solana\"\n    };\n  } else if (chainId === 2) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x2\",\n      rpcTarget: \"https://api.testnet.solana.com\",\n      displayName: \"Solana Testnet\",\n      blockExplorer: \"https://explorer.solana.com?cluster=testnet\",\n      ticker: \"SOL\",\n      tickerName: \"Solana\"\n    };\n  } else if (chainId === 3) {\n    return {\n      chainNamespace: chainNamespace,\n      chainId: \"0x3\",\n      rpcTarget: \"https://api.devnet.solana.com\",\n      displayName: \"Solana Devnet\",\n      blockExplorer: \"https://explorer.solana.com?cluster=devnet\",\n      ticker: \"SOL\",\n      tickerName: \"Solana\"\n    };\n  }\n\n  return null;\n};\nvar getChainConfig = function getChainConfig(chainNamespace, chainId) {\n  if (chainNamespace === CHAIN_NAMESPACES.OTHER) return null;\n  var finalChainId = chainId ? typeof chainId === \"number\" ? chainId : parseInt(chainId, 16) : getDefaultNetworkId(chainNamespace);\n\n  if (chainNamespace === CHAIN_NAMESPACES.EIP155) {\n    return getEvmChainConfig(finalChainId);\n  } else if (chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n    return getSolanaChainConfig(finalChainId);\n  }\n\n  return null;\n};\n\nfunction _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct$1() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Web3AuthError = /*#__PURE__*/function (_CustomError) {\n  _inherits(Web3AuthError, _CustomError);\n\n  var _super = _createSuper$1(Web3AuthError);\n\n  function Web3AuthError(code, message) {\n    var _this;\n\n    _classCallCheck(this, Web3AuthError);\n\n    // takes care of stack and proto\n    _this = _super.call(this, message);\n\n    _defineProperty(_assertThisInitialized(_this), \"code\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"message\", void 0);\n\n    _this.code = code;\n    _this.message = message || \"\"; // Set name explicitly as minification can mangle class names\n\n    Object.defineProperty(_assertThisInitialized(_this), \"name\", {\n      value: \"Web3AuthError\"\n    });\n    return _this;\n  }\n\n  _createClass(Web3AuthError, [{\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        name: this.name,\n        code: this.code,\n        message: this.message\n      };\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return JSON.stringify(this.toJSON());\n    }\n  }]);\n\n  return Web3AuthError;\n}(CustomError);\nvar WalletInitializationError = /*#__PURE__*/function (_Web3AuthError) {\n  _inherits(WalletInitializationError, _Web3AuthError);\n\n  var _super2 = _createSuper$1(WalletInitializationError);\n\n  function WalletInitializationError(code, message) {\n    var _this2;\n\n    _classCallCheck(this, WalletInitializationError);\n\n    // takes care of stack and proto\n    _this2 = _super2.call(this, code, message); // Set name explicitly as minification can mangle class names\n\n    Object.defineProperty(_assertThisInitialized(_this2), \"name\", {\n      value: \"WalletInitializationError\"\n    });\n    return _this2;\n  }\n\n  _createClass(WalletInitializationError, null, [{\n    key: \"fromCode\",\n    value: function fromCode(code) {\n      var extraMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      return new WalletInitializationError(code, \"\".concat(WalletInitializationError.messages[code], \", \").concat(extraMessage));\n    } // Custom methods\n\n  }, {\n    key: \"notFound\",\n    value: function notFound() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5001, extraMessage);\n    }\n  }, {\n    key: \"notInstalled\",\n    value: function notInstalled() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5002, extraMessage);\n    }\n  }, {\n    key: \"notReady\",\n    value: function notReady() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5003, extraMessage);\n    }\n  }, {\n    key: \"windowBlocked\",\n    value: function windowBlocked() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5004, extraMessage);\n    }\n  }, {\n    key: \"windowClosed\",\n    value: function windowClosed() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5005, extraMessage);\n    }\n  }, {\n    key: \"incompatibleChainNameSpace\",\n    value: function incompatibleChainNameSpace() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5006, extraMessage);\n    }\n  }, {\n    key: \"duplicateAdapterError\",\n    value: function duplicateAdapterError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5007, extraMessage);\n    }\n  }, {\n    key: \"invalidProviderConfigError\",\n    value: function invalidProviderConfigError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5008, extraMessage);\n    }\n  }, {\n    key: \"providerNotReadyError\",\n    value: function providerNotReadyError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5009, extraMessage);\n    }\n  }, {\n    key: \"rpcConnectionError\",\n    value: function rpcConnectionError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5010, extraMessage);\n    }\n  }, {\n    key: \"invalidParams\",\n    value: function invalidParams() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5011, extraMessage);\n    }\n  }, {\n    key: \"invalidNetwork\",\n    value: function invalidNetwork() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletInitializationError.fromCode(5013, extraMessage);\n    }\n  }]);\n\n  return WalletInitializationError;\n}(Web3AuthError);\n/**\n * wallet login errors\n */\n\n_defineProperty(WalletInitializationError, \"messages\", {\n  5000: \"Custom\",\n  5001: \"Wallet is not found\",\n  5002: \"Wallet is not installed\",\n  5003: \"Wallet is not ready yet\",\n  5004: \"Wallet window is blocked\",\n  5005: \"Wallet window has been closed by the user\",\n  5006: \"Incompatible chain namespace provided\",\n  5007: \"Adapter has already been included\",\n  5008: \"Invalid provider Config\",\n  5009: \"Provider is not ready yet\",\n  5010: \"Failed to connect with rpc url\",\n  5011: \"Invalid params passed in\",\n  5013: \"Invalid network provided\"\n});\n\nvar WalletLoginError = /*#__PURE__*/function (_Web3AuthError2) {\n  _inherits(WalletLoginError, _Web3AuthError2);\n\n  var _super3 = _createSuper$1(WalletLoginError);\n\n  function WalletLoginError(code, message) {\n    var _this3;\n\n    _classCallCheck(this, WalletLoginError);\n\n    // takes care of stack and proto\n    _this3 = _super3.call(this, code, message); // Set name explicitly as minification can mangle class names\n\n    Object.defineProperty(_assertThisInitialized(_this3), \"name\", {\n      value: \"WalletLoginError\"\n    });\n    return _this3;\n  }\n\n  _createClass(WalletLoginError, null, [{\n    key: \"fromCode\",\n    value: function fromCode(code) {\n      var extraMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n      return new WalletLoginError(code, \"\".concat(WalletLoginError.messages[code]).concat(extraMessage));\n    }\n  }, {\n    key: \"connectionError\",\n    value: function connectionError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletLoginError.fromCode(5111, extraMessage);\n    }\n  }, {\n    key: \"disconnectionError\",\n    value: function disconnectionError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletLoginError.fromCode(5112, extraMessage);\n    }\n  }, {\n    key: \"notConnectedError\",\n    value: function notConnectedError() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletLoginError.fromCode(5113, extraMessage);\n    }\n  }, {\n    key: \"popupClosed\",\n    value: function popupClosed() {\n      var extraMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      return WalletLoginError.fromCode(5114, extraMessage);\n    }\n  }]);\n\n  return WalletLoginError;\n}(Web3AuthError);\n\n_defineProperty(WalletLoginError, \"messages\", {\n  5000: \"Custom\",\n  5111: \"Failed to connect with wallet\",\n  5112: \"Failed to disconnect from wallet\",\n  5113: \"Wallet is not connected\",\n  5114: \"Wallet popup has been closed by the user\"\n});\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar MULTI_CHAIN_ADAPTERS = {\n  OPENLOGIN: \"openlogin\",\n  WALLET_CONNECT_V1: \"wallet-connect-v1\",\n  WALLET_CONNECT_V2: \"wallet-connect-v2\"\n};\nvar SOLANA_ADAPTERS = _objectSpread$1({\n  TORUS_SOLANA: \"torus-solana\",\n  PHANTOM: \"phantom\",\n  SOLLET: \"sollet\",\n  SOLLET_EXTENSION: \"sollet-extension\",\n  SOLFLARE: \"solflare\",\n  SLOPE: \"slope\"\n}, MULTI_CHAIN_ADAPTERS);\nvar EVM_ADAPTERS = _objectSpread$1({\n  TORUS_EVM: \"torus-evm\",\n  METAMASK: \"metamask\",\n  COINBASE: \"coinbase\"\n}, MULTI_CHAIN_ADAPTERS);\nvar WALLET_ADAPTERS = _objectSpread$1(_objectSpread$1({}, EVM_ADAPTERS), SOLANA_ADAPTERS);\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar ADAPTER_CATEGORY = {\n  EXTERNAL: \"external\",\n  IN_APP: \"in_app\"\n};\nvar ADAPTER_STATUS = {\n  NOT_READY: \"not_ready\",\n  READY: \"ready\",\n  CONNECTING: \"connecting\",\n  CONNECTED: \"connected\",\n  DISCONNECTED: \"disconnected\",\n  ERRORED: \"errored\"\n};\nvar ADAPTER_EVENTS = _objectSpread(_objectSpread({}, ADAPTER_STATUS), {}, {\n  ADAPTER_DATA_UPDATED: \"adapter_data_updated\"\n});\nvar BaseAdapter = /*#__PURE__*/function (_SafeEventEmitter) {\n  _inherits(BaseAdapter, _SafeEventEmitter);\n\n  var _super = _createSuper(BaseAdapter);\n\n  function BaseAdapter() {\n    var _this;\n\n    _classCallCheck(this, BaseAdapter);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"adapterData\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"sessionTime\", 86400);\n\n    _defineProperty(_assertThisInitialized(_this), \"chainConfig\", null);\n\n    return _this;\n  }\n\n  _createClass(BaseAdapter, [{\n    key: \"chainConfigProxy\",\n    get: function get() {\n      return this.chainConfig ? _objectSpread({}, this.chainConfig) : null;\n    }\n  }, {\n    key: \"setChainConfig\",\n    value: function setChainConfig(customChainConfig) {\n      if (this.status === ADAPTER_STATUS.READY) return;\n      if (!customChainConfig.chainNamespace) throw WalletInitializationError.notReady(\"ChainNamespace is required while setting chainConfig\");\n      var defaultChainConfig = getChainConfig(customChainConfig.chainNamespace, customChainConfig.chainId);\n      this.chainConfig = _objectSpread(_objectSpread({}, defaultChainConfig), customChainConfig);\n    }\n  }, {\n    key: \"setAdapterSettings\",\n    value: function setAdapterSettings(_) {}\n  }, {\n    key: \"checkConnectionRequirements\",\n    value: function checkConnectionRequirements() {\n      // we reconnect without killing existing wallet connect session on calling connect again.\n      if (this.name === WALLET_ADAPTERS.WALLET_CONNECT_V1 && this.status === ADAPTER_STATUS.CONNECTING) return;else if (this.status === ADAPTER_STATUS.CONNECTING) throw WalletInitializationError.notReady(\"Already connecting\");\n      if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletLoginError.connectionError(\"Already connected\");\n      if (this.status !== ADAPTER_STATUS.READY) throw WalletLoginError.connectionError(\"Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function\");\n      if (!this.clientId) throw WalletLoginError.connectionError(\"Please initialize Web3Auth with a valid clientId in constructor\");\n    }\n  }, {\n    key: \"checkInitializationRequirements\",\n    value: function checkInitializationRequirements() {\n      if (this.status === ADAPTER_STATUS.NOT_READY) return;\n      if (this.status === ADAPTER_STATUS.CONNECTED) throw WalletInitializationError.notReady(\"Already connected\");\n      if (this.status === ADAPTER_STATUS.READY) throw WalletInitializationError.notReady(\"Adapter is already initialized\");\n    }\n  }, {\n    key: \"updateAdapterData\",\n    value: function updateAdapterData(data) {\n      this.adapterData = data;\n      this.emit(ADAPTER_EVENTS.ADAPTER_DATA_UPDATED, {\n        adapterName: this.name,\n        data: data\n      });\n    }\n  }]);\n\n  return BaseAdapter;\n}(SafeEventEmitter);\nvar BaseNetworkSwitch = /*#__PURE__*/_createClass(function BaseNetworkSwitch() {\n  _classCallCheck(this, BaseNetworkSwitch);\n});\n\nvar authServer = \"https://authjs.web3auth.io\";\n\nvar log = loglevel.getLogger(\"web3auth-logger\");\n\nfunction storageAvailable(type) {\n  var storageExists = false;\n  var storageLength = 0;\n  var storage;\n\n  try {\n    storage = window[type];\n    storageExists = true;\n    storageLength = storage.length;\n    var x = \"__storage_test__\";\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return true;\n  } catch (error) {\n    var _error = error;\n    return !!(_error && ( // everything except Firefox\n    _error.code === 22 || // Firefox\n    _error.code === 1014 || // test name field too, because code might not be present\n    // everything except Firefox\n    _error.name === \"QuotaExceededError\" || // Firefox\n    _error.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && // acknowledge QuotaExceededError only if there's something already stored\n    storageExists && storageLength !== 0);\n  }\n}\nvar isHexStrict = function isHexStrict(hex) {\n  return (typeof hex === \"string\" || typeof hex === \"number\") && /^(-)?0x[0-9a-f]*$/i.test(hex);\n};\n\nvar checkIfTokenIsExpired = function checkIfTokenIsExpired(token) {\n  var decoded = JwtDecode(token);\n\n  if (!decoded.exp) {\n    return true;\n  }\n\n  if (decoded.exp < Math.floor(Date.now() / 1000)) {\n    return true;\n  }\n\n  return false;\n};\nvar signChallenge = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(payload, chainNamespace) {\n    var t, header, network, data, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            t = chainNamespace === \"solana\" ? \"sip99\" : \"eip191\";\n            header = {\n              t: t\n            };\n            network = chainNamespace === \"solana\" ? \"solana\" : \"ethereum\";\n            data = {\n              payload: payload,\n              header: header,\n              network: network\n            };\n            _context.next = 6;\n            return post(\"\".concat(authServer, \"/siww/get\"), data);\n\n          case 6:\n            res = _context.sent;\n\n            if (res.success) {\n              _context.next = 9;\n              break;\n            }\n\n            throw new Error(\"Failed to authenticate user, Please reach out to Web3Auth Support team\");\n\n          case 9:\n            return _context.abrupt(\"return\", res.challenge);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function signChallenge(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar verifySignedChallenge = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(chainNamespace, signedMessage, challenge, issuer, sessionTime, clientId) {\n    var t, sigData, idTokenRes;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            t = chainNamespace === \"solana\" ? \"sip99\" : \"eip191\";\n            sigData = {\n              signature: {\n                s: signedMessage,\n                t: t\n              },\n              message: challenge,\n              issuer: issuer,\n              audience: window.location.hostname,\n              timeout: sessionTime\n            };\n            _context2.next = 4;\n            return post(\"\".concat(authServer, \"/siww/verify\"), sigData, {\n              headers: {\n                client_id: clientId,\n                wallet_provider: issuer\n              }\n            });\n\n          case 4:\n            idTokenRes = _context2.sent;\n\n            if (idTokenRes.success) {\n              _context2.next = 8;\n              break;\n            }\n\n            log.error(\"Failed to authenticate user, ,message verification failed\", idTokenRes.error);\n            throw new Error(\"Failed to authenticate user, ,message verification failed\");\n\n          case 8:\n            return _context2.abrupt(\"return\", idTokenRes.token);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function verifySignedChallenge(_x3, _x4, _x5, _x6, _x7, _x8) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar getSavedToken = function getSavedToken(userAddress, issuer) {\n  if (storageAvailable(\"localStorage\")) {\n    return localStorage.getItem(\"\".concat(userAddress.toLowerCase(), \"_\").concat(issuer));\n  }\n\n  return null;\n};\nvar saveToken = function saveToken(userAddress, issuer, token) {\n  if (storageAvailable(\"localStorage\")) {\n    return localStorage.setItem(\"\".concat(userAddress.toLowerCase(), \"_\").concat(issuer), token);\n  }\n\n  return null;\n};\nvar clearToken = function clearToken(userAddress, issuer) {\n  if (storageAvailable(\"localStorage\")) {\n    return localStorage.removeItem(\"\".concat(userAddress.toLowerCase(), \"_\").concat(issuer));\n  }\n\n  return null;\n};\n\nvar PROVIDER_EVENTS = {\n  INITIALIZED: \"initialized\",\n  ERRORED: \"errored\"\n};\n\nexport { ADAPTER_CATEGORY, ADAPTER_EVENTS, ADAPTER_NAMESPACES, ADAPTER_STATUS, BaseAdapter, BaseNetworkSwitch, CHAIN_NAMESPACES, EVM_ADAPTERS, MULTI_CHAIN_ADAPTERS, PROVIDER_EVENTS, SOLANA_ADAPTERS, WALLET_ADAPTERS, WalletInitializationError, WalletLoginError, Web3AuthError, authServer, checkIfTokenIsExpired, clearToken, getChainConfig, getEvmChainConfig, getSavedToken, getSolanaChainConfig, isHexStrict, log, saveToken, signChallenge, storageAvailable, verifySignedChallenge };\n//# sourceMappingURL=base.esm.js.map\n"]},"metadata":{},"sourceType":"module"}