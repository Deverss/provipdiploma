{"ast":null,"code":"import _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/assertThisInitialized';\nimport _get from '@babel/runtime/helpers/get';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport Torus from '@toruslabs/solana-embed';\nimport { WALLET_ADAPTERS, ADAPTER_NAMESPACES, CHAIN_NAMESPACES, ADAPTER_CATEGORY, ADAPTER_STATUS, log, ADAPTER_EVENTS, getChainConfig, WalletLoginError, Web3AuthError, WalletInitializationError } from '@web3auth/base';\nimport { BaseSolanaAdapter } from '@web3auth/base-solana-adapter';\nimport { TorusInjectedProvider } from '@web3auth/solana-provider';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar SolanaWalletAdapter = /*#__PURE__*/function (_BaseSolanaAdapter) {\n  _inherits(SolanaWalletAdapter, _BaseSolanaAdapter);\n\n  var _super = _createSuper(SolanaWalletAdapter);\n\n  function SolanaWalletAdapter(params) {\n    var _this;\n\n    _classCallCheck(this, SolanaWalletAdapter);\n\n    _this = _super.call(this, params);\n\n    _defineProperty(_assertThisInitialized(_this), \"name\", WALLET_ADAPTERS.TORUS_SOLANA);\n\n    _defineProperty(_assertThisInitialized(_this), \"adapterNamespace\", ADAPTER_NAMESPACES.SOLANA);\n\n    _defineProperty(_assertThisInitialized(_this), \"currentChainNamespace\", CHAIN_NAMESPACES.SOLANA);\n\n    _defineProperty(_assertThisInitialized(_this), \"type\", ADAPTER_CATEGORY.EXTERNAL);\n\n    _defineProperty(_assertThisInitialized(_this), \"status\", ADAPTER_STATUS.NOT_READY);\n\n    _defineProperty(_assertThisInitialized(_this), \"torusInstance\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"torusWalletOptions\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"initParams\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"loginSettings\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"solanaProvider\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"rehydrated\", false);\n\n    _this.torusWalletOptions = params.adapterSettings || {};\n    _this.initParams = params.initParams || {};\n    _this.loginSettings = params.loginSettings || {};\n    _this.chainConfig = params.chainConfig || null;\n    _this.sessionTime = params.sessionTime || 86400;\n    return _this;\n  }\n\n  _createClass(SolanaWalletAdapter, [{\n    key: \"provider\",\n    get: function get() {\n      if (this.status === ADAPTER_STATUS.CONNECTED && this.solanaProvider) {\n        var _this$solanaProvider;\n\n        return ((_this$solanaProvider = this.solanaProvider) === null || _this$solanaProvider === void 0 ? void 0 : _this$solanaProvider.provider) || null;\n      }\n\n      return null;\n    },\n    set: function set(_) {\n      throw new Error(\"Not implemented\");\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(options) {\n        var network, _this$chainConfig, blockExplorer, displayName, ticker, tickerName, rpcTarget, chainId, _this$chainConfig2, _chainId, _blockExplorer, _displayName, _rpcTarget, _ticker, _tickerName;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _get(_getPrototypeOf(SolanaWalletAdapter.prototype), \"checkInitializationRequirements\", this).call(this); // set chainConfig for mainnet by default if not set\n\n\n                if (!this.chainConfig) {\n                  this.chainConfig = getChainConfig(CHAIN_NAMESPACES.SOLANA, \"0x1\");\n                  _this$chainConfig = this.chainConfig, blockExplorer = _this$chainConfig.blockExplorer, displayName = _this$chainConfig.displayName, ticker = _this$chainConfig.ticker, tickerName = _this$chainConfig.tickerName, rpcTarget = _this$chainConfig.rpcTarget, chainId = _this$chainConfig.chainId;\n                  network = {\n                    chainId: chainId,\n                    rpcTarget: rpcTarget,\n                    blockExplorerUrl: blockExplorer,\n                    displayName: displayName,\n                    ticker: ticker,\n                    tickerName: tickerName,\n                    logo: \"\"\n                  };\n                } else {\n                  _this$chainConfig2 = this.chainConfig, _chainId = _this$chainConfig2.chainId, _blockExplorer = _this$chainConfig2.blockExplorer, _displayName = _this$chainConfig2.displayName, _rpcTarget = _this$chainConfig2.rpcTarget, _ticker = _this$chainConfig2.ticker, _tickerName = _this$chainConfig2.tickerName;\n                  network = {\n                    chainId: _chainId,\n                    rpcTarget: _rpcTarget,\n                    blockExplorerUrl: _blockExplorer,\n                    displayName: _displayName,\n                    tickerName: _tickerName,\n                    ticker: _ticker,\n                    logo: \"\"\n                  };\n                }\n\n                this.torusInstance = new Torus(this.torusWalletOptions);\n                log.debug(\"initializing torus solana adapter init\");\n                _context.next = 6;\n                return this.torusInstance.init(_objectSpread(_objectSpread({\n                  showTorusButton: false\n                }, this.initParams), {}, {\n                  network: network\n                }));\n\n              case 6:\n                this.solanaProvider = new TorusInjectedProvider({\n                  config: {\n                    chainConfig: this.chainConfig\n                  }\n                });\n                this.status = ADAPTER_STATUS.READY;\n                this.emit(ADAPTER_EVENTS.READY, WALLET_ADAPTERS.TORUS_SOLANA);\n                _context.prev = 9;\n                log.debug(\"initializing torus solana adapter\");\n\n                if (!options.autoConnect) {\n                  _context.next = 15;\n                  break;\n                }\n\n                this.rehydrated = true;\n                _context.next = 15;\n                return this.connect();\n\n              case 15:\n                _context.next = 21;\n                break;\n\n              case 17:\n                _context.prev = 17;\n                _context.t0 = _context[\"catch\"](9);\n                log.error(\"Failed to connect with cached torus solana provider\", _context.t0);\n                this.emit(ADAPTER_EVENTS.ERRORED, _context.t0);\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 17]]);\n      }));\n\n      function init(_x) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"connect\",\n    value: function () {\n      var _connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var torusInpageProvider, _this$chainConfig3, chainId, blockExplorer, displayName, rpcTarget, ticker, tickerName, network;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _get(_getPrototypeOf(SolanaWalletAdapter.prototype), \"checkConnectionRequirements\", this).call(this);\n\n                if (this.torusInstance) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n\n              case 3:\n                if (this.solanaProvider) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n\n              case 5:\n                this.status = ADAPTER_STATUS.CONNECTING;\n                this.emit(ADAPTER_EVENTS.CONNECTING, {\n                  adapter: WALLET_ADAPTERS.TORUS_SOLANA\n                });\n                _context2.prev = 7;\n                _context2.next = 10;\n                return this.torusInstance.login(this.loginSettings);\n\n              case 10:\n                _context2.prev = 10;\n                torusInpageProvider = this.torusInstance.provider;\n                torusInpageProvider.sendTransaction = this.torusInstance.sendTransaction.bind(this.torusInstance);\n                torusInpageProvider.signAllTransactions = this.torusInstance.signAllTransactions.bind(this.torusInstance);\n                torusInpageProvider.signMessage = this.torusInstance.signMessage.bind(this.torusInstance);\n                torusInpageProvider.signTransaction = this.torusInstance.signTransaction.bind(this.torusInstance);\n                _context2.next = 18;\n                return this.solanaProvider.setupProvider(torusInpageProvider);\n\n              case 18:\n                _context2.next = 30;\n                break;\n\n              case 20:\n                _context2.prev = 20;\n                _context2.t0 = _context2[\"catch\"](10);\n\n                if (!(_context2.t0 instanceof Web3AuthError && _context2.t0.code === 5010)) {\n                  _context2.next = 29;\n                  break;\n                }\n\n                _this$chainConfig3 = this.chainConfig, chainId = _this$chainConfig3.chainId, blockExplorer = _this$chainConfig3.blockExplorer, displayName = _this$chainConfig3.displayName, rpcTarget = _this$chainConfig3.rpcTarget, ticker = _this$chainConfig3.ticker, tickerName = _this$chainConfig3.tickerName;\n                network = {\n                  chainId: chainId,\n                  rpcTarget: rpcTarget,\n                  blockExplorerUrl: blockExplorer,\n                  displayName: displayName,\n                  tickerName: tickerName,\n                  ticker: ticker,\n                  logo: \"\"\n                };\n                _context2.next = 27;\n                return this.torusInstance.setProvider(network);\n\n              case 27:\n                _context2.next = 30;\n                break;\n\n              case 29:\n                throw _context2.t0;\n\n              case 30:\n                this.status = ADAPTER_STATUS.CONNECTED;\n                this.torusInstance.showTorusButton();\n                this.emit(ADAPTER_STATUS.CONNECTED, {\n                  adapter: WALLET_ADAPTERS.TORUS_SOLANA,\n                  reconnected: this.rehydrated\n                });\n                return _context2.abrupt(\"return\", this.provider);\n\n              case 36:\n                _context2.prev = 36;\n                _context2.t1 = _context2[\"catch\"](7); // ready again to be connected\n\n                this.status = ADAPTER_STATUS.READY;\n                this.rehydrated = false;\n                this.emit(ADAPTER_EVENTS.ERRORED, _context2.t1);\n                throw WalletLoginError.connectionError(\"Failed to login with torus solana wallet\");\n\n              case 42:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 36], [10, 20]]);\n      }));\n\n      function connect() {\n        return _connect.apply(this, arguments);\n      }\n\n      return connect;\n    }()\n  }, {\n    key: \"disconnect\",\n    value: function () {\n      var _disconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var options,\n            _args3 = arguments;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                options = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : {\n                  cleanup: false\n                };\n\n                if (this.torusInstance) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n\n              case 3:\n                _context3.next = 5;\n                return _get(_getPrototypeOf(SolanaWalletAdapter.prototype), \"disconnect\", this).call(this);\n\n              case 5:\n                _context3.next = 7;\n                return this.torusInstance.logout();\n\n              case 7:\n                if (options.cleanup) {\n                  // ready to connect again\n                  this.status = ADAPTER_STATUS.NOT_READY;\n                  this.torusInstance = null;\n                  this.solanaProvider = null;\n                } else {\n                  // ready to connect again\n                  this.status = ADAPTER_STATUS.READY;\n                }\n\n                this.emit(ADAPTER_EVENTS.DISCONNECTED);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function disconnect() {\n        return _disconnect.apply(this, arguments);\n      }\n\n      return disconnect;\n    }()\n  }, {\n    key: \"getUserInfo\",\n    value: function () {\n      var _getUserInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var userInfo;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.status !== ADAPTER_STATUS.CONNECTED)) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n\n              case 2:\n                if (this.torusInstance) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n\n              case 4:\n                _context4.next = 6;\n                return this.torusInstance.getUserInfo();\n\n              case 6:\n                userInfo = _context4.sent;\n                return _context4.abrupt(\"return\", userInfo);\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getUserInfo() {\n        return _getUserInfo.apply(this, arguments);\n      }\n\n      return getUserInfo;\n    }()\n  }, {\n    key: \"setAdapterSettings\",\n    value: function setAdapterSettings(options) {\n      if (this.status === ADAPTER_STATUS.READY) return;\n\n      if (options !== null && options !== void 0 && options.sessionTime) {\n        this.sessionTime = options.sessionTime;\n      }\n\n      if (options !== null && options !== void 0 && options.clientId) {\n        this.clientId = options.clientId;\n      }\n    }\n  }]);\n\n  return SolanaWalletAdapter;\n}(BaseSolanaAdapter);\n\nexport { SolanaWalletAdapter };","map":{"version":3,"sources":["../src/solanaWalletAdapter.ts"],"names":["SolanaWalletAdapter","WALLET_ADAPTERS","TORUS_SOLANA","ADAPTER_NAMESPACES","SOLANA","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","params","solanaProvider","provider","getChainConfig","blockExplorer","displayName","ticker","tickerName","rpcTarget","chainId","network","blockExplorerUrl","logo","log","showTorusButton","config","chainConfig","ADAPTER_EVENTS","options","WalletInitializationError","adapter","torusInpageProvider","code","reconnected","rehydrated","WalletLoginError","cleanup","userInfo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,IAAaA,mBAAb,GAAA,aAAA,UAAA,kBAAA,EAAA;AAAA,EAAA,SAAA,CAAA,mBAAA,EAAA,kBAAA,CAAA;;AAAA,MAAA,MAAA,GAAA,YAAA,CAAA,mBAAA,CAAA;;AAuBE,WAAA,mBAAA,CAAA,MAAA,EAAuC;AAAA,QAAA,KAAA;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,mBAAA,CAAA;;AACrC,IAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,MAAA,CAAA;;AADqC,IAAA,eAtBfC,CAAAA,sBAAAA,CAAAA,KAAAA,CAAAA,EAAAA,MAAAA,EAAAA,eAAe,CAACC,YAAhBD,CAsBe;;AAAA,IAAA,eApBWE,CAAAA,sBAAAA,CAAAA,KAAAA,CAAAA,EAAAA,kBAAAA,EAAAA,kBAAkB,CAACC,MAAnBD,CAoBX;;AAAA,IAAA,eAlBcE,CAAAA,sBAAAA,CAAAA,KAAAA,CAAAA,EAAAA,uBAAAA,EAAAA,gBAAgB,CAACD,MAAjBC,CAkBd;;AAAA,IAAA,eAhBAC,CAAAA,sBAAAA,CAAAA,KAAAA,CAAAA,EAAAA,MAAAA,EAAAA,gBAAgB,CAACC,QAAjBD,CAgBA;;AAAA,IAAA,eAdFE,CAAAA,sBAAAA,CAAAA,KAAAA,CAAAA,EAAAA,QAAAA,EAAAA,cAAc,CAACC,SAAfD,CAcE;;AAAA,IAAA,eAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,EAAA,eAAA,EAZF,IAYE,CAAA;;AAAA,IAAA,eAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,EAAA,oBAAA,EAAA,KAAA,CAAA,CAAA;;AAAA,IAAA,eAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,EAAA,YAAA,EAAA,KAAA,CAAA,CAAA;;AAAA,IAAA,eAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,EAAA,eAAA,EANI,EAMJ,CAAA;;AAAA,IAAA,eAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,EAAA,gBAAA,EAJgB,IAIhB,CAAA;;AAAA,IAAA,eAAA,CAAA,sBAAA,CAAA,KAAA,CAAA,EAAA,YAAA,EAFlB,KAEkB,CAAA;;AAErC,IAAA,KAAA,CAAA,kBAAA,GAA0BE,MAAM,CAANA,eAAAA,IAA1B,EAAA;AACA,IAAA,KAAA,CAAA,UAAA,GAAkBA,MAAM,CAANA,UAAAA,IAAlB,EAAA;AACA,IAAA,KAAA,CAAA,aAAA,GAAqBA,MAAM,CAANA,aAAAA,IAArB,EAAA;AACA,IAAA,KAAA,CAAA,WAAA,GAAmBA,MAAM,CAANA,WAAAA,IAAnB,IAAA;AACA,IAAA,KAAA,CAAA,WAAA,GAAmBA,MAAM,CAANA,WAAAA,IAAnB,KAAA;AANqC,WAAA,KAAA;AAOtC;;AA9BH,EAAA,YAAA,CAAA,mBAAA,EAAA,CAAA;AAAA,IAAA,GAAA,EAAA,UAAA;AAAA,IAAA,GAAA,EAgCE,SAAY,GAAZ,GAAY;AACV,UAAI,KAAA,MAAA,KAAgBF,cAAc,CAA9B,SAAA,IAA4C,KAAhD,cAAA,EAAqE;AAAA,YAAA,oBAAA;;AACnE,eAAO,CAAKG,CAAAA,oBAAAA,GAAAA,KAAL,cAAKA,MAAgBC,IAAhBD,IAAgBC,oBAAAA,KAAAA,KAAAA,CAAhBD,GAAgBC,KAAAA,CAAhBD,GAAgBC,oBAAAA,CAArB,QAAA,KAAP,IAAA;AACD;;AACD,aAAA,IAAA;AApCJ,KAAA;AAAA,IAAA,GAuCE,EAAA,SAAA,GAAA,CAAA,CAAA,EAA+C;AAC7C,YAAM,IAAA,KAAA,CAAN,iBAAM,CAAN;AACD;AAzCH,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,MAAA;AAAA,IAAA,KAAA,EAAA,YAAA;AAAA,UAAA,KAAA,GAAA,iBAAA,EAAA,aAAA,mBAAA,CAAA,IAAA,CA2CE,SAAA,OAAA,CAAA,OAAA,EAAA;AAAA,YAAA,OAAA,EAAA,iBAAA,EAAA,aAAA,EAAA,WAAA,EAAA,MAAA,EAAA,UAAA,EAAA,SAAA,EAAA,OAAA,EAAA,kBAAA,EAAA,QAAA,EAAA,cAAA,EAAA,YAAA,EAAA,UAAA,EAAA,OAAA,EAAA,WAAA;;AAAA,eAAA,mBAAA,CAAA,IAAA,CAAA,SAAA,QAAA,CAAA,QAAA,EAAA;AAAA,iBAAA,CAAA,EAAA;AAAA,oBAAA,QAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AAAA,mBAAA,CAAA;AACE,gBAAA,IAAA,CAAA,eAAA,CAAA,mBAAA,CAAA,SAAA,CAAA,EAAA,iCAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CADF,IACE,EADF,CAAA;;;AAIE,oBAAI,CAAC,KAAL,WAAA,EAAuB;AACrB,uBAAA,WAAA,GAAmBC,cAAc,CAACR,gBAAgB,CAAjB,MAAA,EAAjC,KAAiC,CAAjC;AADqB,kBAAA,iBAE0D,GAAA,KAF1D,WAAA,EAEbS,aAFa,GAAA,iBAAA,CAAA,aAAA,EAEEC,WAFF,GAEEA,iBAAAA,CAFF,WAAA,EAEeC,MAFf,GAAA,iBAAA,CAAA,MAAA,EAEuBC,UAFvB,GAAA,iBAAA,CAAA,UAAA,EAEmCC,SAFnC,GAAA,iBAAA,CAAA,SAAA,EAE8CC,OAF9C,GAAA,iBAAA,CAAA,OAAA;AAGrBC,kBAAAA,OAAO,GAAG;AAAED,oBAAAA,OAAO,EAAT,OAAA;AAAWD,oBAAAA,SAAS,EAApB,SAAA;AAAsBG,oBAAAA,gBAAgB,EAAtC,aAAA;AAAuDN,oBAAAA,WAAW,EAAlE,WAAA;AAAoEC,oBAAAA,MAAM,EAA1E,MAAA;AAA4EC,oBAAAA,UAAU,EAAtF,UAAA;AAAwFK,oBAAAA,IAAI,EAAE;AAA9F,mBAAVF;AAHF,iBAAA,MAIO;AAAA,kBAAA,kBAC0E,GAAA,KAD1E,WAAA,EACGD,QADH,GAAA,kBAAA,CAAA,OAAA,EACYL,cADZ,GACYA,kBAAAA,CADZ,aAAA,EAC2BC,YAD3B,GAAA,kBAAA,CAAA,WAAA,EACwCG,UADxC,GAAA,kBAAA,CAAA,SAAA,EACmDF,OADnD,GAAA,kBAAA,CAAA,MAAA,EAC2DC,WAD3D,GAAA,kBAAA,CAAA,UAAA;AAELG,kBAAAA,OAAO,GAAG;AAAED,oBAAAA,OAAO,EAAT,QAAA;AAAWD,oBAAAA,SAAS,EAApB,UAAA;AAAsBG,oBAAAA,gBAAgB,EAAtC,cAAA;AAAuDN,oBAAAA,WAAW,EAAlE,YAAA;AAAoEE,oBAAAA,UAAU,EAA9E,WAAA;AAAgFD,oBAAAA,MAAM,EAAtF,OAAA;AAAwFM,oBAAAA,IAAI,EAAE;AAA9F,mBAAVF;AACD;;AACD,qBAAA,aAAA,GAAqB,IAAA,KAAA,CAAU,KAA/B,kBAAqB,CAArB;AACAG,gBAAAA,GAAG,CAAHA,KAAAA,CAAAA,wCAAAA;AAbF,gBAAA,QAAA,CAAA,IAAA,GAAA,CAAA;AAAA,uBAcQ,KAAA,aAAA,CAAA,IAAA,CAAA,aAAA,CAAA,aAAA,CAAA;AAA0BC,kBAAAA,eAAe,EAAE;AAA3C,iBAAA,EAAqD,KAArD,UAAA,CAAA,EAAA,EAAA,EAAA;AAAsEJ,kBAAAA,OAAO,EAAPA;AAAtE,iBAAA,CAAA,CAdR;;AAAA,mBAAA,CAAA;AAgBE,qBAAA,cAAA,GAAsB,IAAA,qBAAA,CAA0B;AAC9CK,kBAAAA,MAAM,EAAE;AACNC,oBAAAA,WAAW,EAAE,KAAKA;AADZ;AADsC,iBAA1B,CAAtB;AAKA,qBAAA,MAAA,GAAclB,cAAc,CAA5B,KAAA;AACA,qBAAA,IAAA,CAAUmB,cAAc,CAAxB,KAAA,EAAgC1B,eAAe,CAA/C,YAAA;AAtBF,gBAAA,QAAA,CAAA,IAAA,GAAA,CAAA;AAyBIsB,gBAAAA,GAAG,CAAHA,KAAAA,CAAAA,mCAAAA;;AAzBJ,oBA0BQK,CAAAA,OAAO,CA1Bf,WAAA,EAAA;AAAA,kBAAA,QAAA,CAAA,IAAA,GAAA,EAAA;AAAA;AAAA;;AA2BM,qBAAA,UAAA,GAAA,IAAA;AA3BN,gBAAA,QAAA,CAAA,IAAA,GAAA,EAAA;AAAA,uBA4BY,KA5BZ,OA4BY,EA5BZ;;AAAA,mBAAA,EAAA;AAAA,gBAAA,QAAA,CAAA,IAAA,GAAA,EAAA;AAAA;;AAAA,mBAAA,EAAA;AAAA,gBAAA,QAAA,CAAA,IAAA,GAAA,EAAA;AAAA,gBAAA,QAAA,CAAA,EAAA,GAAA,QAAA,CAAA,OAAA,CAAA,CAAA,CAAA,CAAA;AA+BIL,gBAAAA,GAAG,CAAHA,KAAAA,CAAAA,qDAAAA,EAAAA,QAAAA,CAAAA,EAAAA;AACA,qBAAA,IAAA,CAAUI,cAAc,CAAxB,OAAA,EAAA,QAAA,CAAA,EAAA;;AAhCJ,mBAAA,EAAA;AAAA,mBAAA,KAAA;AAAA,uBAAA,QAAA,CAAA,IAAA,EAAA;AAAA;AAAA;AAAA,SAAA,EAAA,OAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAA,CAAA;AA3CF,OAAA,CAAA,CAAA;;AAAA,eAAA,IAAA,CAAA,EAAA,EAAA;AAAA,eAAA,KAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA;AAAA;;AAAA,aAAA,IAAA;AAAA,KAAA;AAAA,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,SAAA;AAAA,IAAA,KAAA,EAAA,YAAA;AAAA,UA+EE,QAAA,GAAA,iBAAA,EAAA,aAAA,mBAAA,CAAA,IAAA,CAAA,SAAA,QAAA,GAAA;AAAA,YAAA,mBAAA,EAAA,kBAAA,EAAA,OAAA,EAAA,aAAA,EAAA,WAAA,EAAA,SAAA,EAAA,MAAA,EAAA,UAAA,EAAA,OAAA;;AAAA,eAAA,mBAAA,CAAA,IAAA,CAAA,SAAA,SAAA,CAAA,SAAA,EAAA;AAAA,iBAAA,CAAA,EAAA;AAAA,oBAAA,SAAA,CAAA,IAAA,GAAA,SAAA,CAAA,IAAA;AAAA,mBAAA,CAAA;AACE,gBAAA,IAAA,CAAA,eAAA,CAAA,mBAAA,CAAA,SAAA,CAAA,EAAA,6BAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA;;AADF,oBAEO,KAFP,aAAA,EAAA;AAAA,kBAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,sBAEiCE,yBAAyB,CAAzBA,QAAAA,CAFjC,iCAEiCA,CAFjC;;AAAA,mBAAA,CAAA;AAAA,oBAGO,KAHP,cAAA,EAAA;AAAA,kBAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,sBAGkCA,yBAAyB,CAAzBA,QAAAA,CAHlC,iCAGkCA,CAHlC;;AAAA,mBAAA,CAAA;AAIE,qBAAA,MAAA,GAAcrB,cAAc,CAA5B,UAAA;AACA,qBAAA,IAAA,CAAUmB,cAAc,CAAxB,UAAA,EAAqC;AAAEG,kBAAAA,OAAO,EAAE7B,eAAe,CAACC;AAA3B,iBAArC;AALF,gBAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA,gBAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AAAA,uBAOU,KAAA,aAAA,CAAA,KAAA,CAAyB,KAPnC,aAOU,CAPV;;AAAA,mBAAA,EAAA;AAAA,gBAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AASY6B,gBAAAA,mBATZ,GASkC,KAAA,aAAA,CATlC,QASYA;AACNA,gBAAAA,mBAAmB,CAAnBA,eAAAA,GAAsC,KAAA,aAAA,CAAA,eAAA,CAAA,IAAA,CAAwC,KAA9EA,aAAsC,CAAtCA;AACAA,gBAAAA,mBAAmB,CAAnBA,mBAAAA,GAA0C,KAAA,aAAA,CAAA,mBAAA,CAAA,IAAA,CAA4C,KAAtFA,aAA0C,CAA1CA;AACAA,gBAAAA,mBAAmB,CAAnBA,WAAAA,GAAkC,KAAA,aAAA,CAAA,WAAA,CAAA,IAAA,CAAoC,KAAtEA,aAAkC,CAAlCA;AACAA,gBAAAA,mBAAmB,CAAnBA,eAAAA,GAAsC,KAAA,aAAA,CAAA,eAAA,CAAA,IAAA,CAAwC,KAA9EA,aAAsC,CAAtCA;AAbN,gBAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AAAA,uBAcY,KAAA,cAAA,CAAA,aAAA,CAdZ,mBAcY,CAdZ;;AAAA,mBAAA,EAAA;AAAA,gBAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AAAA;;AAAA,mBAAA,EAAA;AAAA,gBAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AAAA,gBAAA,SAAA,CAAA,EAAA,GAAA,SAAA,CAAA,OAAA,CAAA,CAAA,EAAA,CAAA;;AAAA,oBAAA,EAkBU,SAAA,CAAA,EAAA,YAAA,aAAA,IAAkC,SAAMC,CAAAA,EAAN,CAAA,IAAA,KAlB5C,IAAA,CAAA,EAAA;AAAA,kBAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AAAA;AAAA;;AAAA,gBAAA,kBAmBuF,GAAA,KAnBvF,WAAA,EAmBgBb,OAnBhB,GAAA,kBAAA,CAAA,OAAA,EAmByBL,aAnBzB,GAmByBA,kBAAAA,CAnBzB,aAAA,EAmBwCC,WAnBxC,GAAA,kBAAA,CAAA,WAAA,EAmBqDG,SAnBrD,GAAA,kBAAA,CAAA,SAAA,EAmBgEF,MAnBhE,GAAA,kBAAA,CAAA,MAAA,EAmBwEC,UAnBxE,GAAA,kBAAA,CAAA,UAAA;AAoBcG,gBAAAA,OApBd,GAoBwB;AAAED,kBAAAA,OAAO,EAAT,OAAA;AAAWD,kBAAAA,SAAS,EAApB,SAAA;AAAsBG,kBAAAA,gBAAgB,EAAtC,aAAA;AAAuDN,kBAAAA,WAAW,EAAlE,WAAA;AAAoEE,kBAAAA,UAAU,EAA9E,UAAA;AAAgFD,kBAAAA,MAAM,EAAtF,MAAA;AAAwFM,kBAAAA,IAAI,EAAE;AAA9F,iBAAVF;AApBd,gBAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AAAA,uBAqBc,KAAA,aAAA,CAAA,WAAA,CArBd,OAqBc,CArBd;;AAAA,mBAAA,EAAA;AAAA,gBAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AAAA;;AAAA,mBAAA,EAAA;AAAA,sBAAA,SAAA,CAAA,EAAA;;AAAA,mBAAA,EAAA;AA0BI,qBAAA,MAAA,GAAcZ,cAAc,CAA5B,SAAA;AACA,qBAAA,aAAA,CAAA,eAAA;AACA,qBAAA,IAAA,CAAUA,cAAc,CAAxB,SAAA,EAAoC;AAAEsB,kBAAAA,OAAO,EAAE7B,eAAe,CAA1B,YAAA;AAAyCgC,kBAAAA,WAAW,EAAE,KAAKC;AAA3D,iBAApC;AA5BJ,uBAAA,SAAA,CAAA,MAAA,CAAA,QAAA,EA6BW,KA7BX,QAAA,CAAA;;AAAA,mBAAA,EAAA;AAAA,gBAAA,SAAA,CAAA,IAAA,GAAA,EAAA;AAAA,gBAAA,SAAA,CAAA,EAAA,GAAA,SAAA,CAAA,OAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CA+BI;;AACA,qBAAA,MAAA,GAAc1B,cAAc,CAA5B,KAAA;AACA,qBAAA,UAAA,GAAA,KAAA;AACA,qBAAA,IAAA,CAAUmB,cAAc,CAAxB,OAAA,EAAA,SAAA,CAAA,EAAA;AAlCJ,sBAmCUQ,gBAAgB,CAAhBA,eAAAA,CAnCV,0CAmCUA,CAnCV;;AAAA,mBAAA,EAAA;AAAA,mBAAA,KAAA;AAAA,uBAAA,SAAA,CAAA,IAAA,EAAA;AAAA;AAAA;AAAA,SAAA,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,CAAA,CAAA,EAAA,EAAA,CAAA,EAAA,CAAA,EAAA,EAAA,EAAA,CAAA,CAAA,CAAA;AA/EF,OA+EE,CAAA,CA/EF;;AAAA,eAAA,OAAA,GAAA;AAAA,eAAA,QAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA;AAAA;;AAAA,aAAA,OAAA;AAAA,KAAA;AAAA,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,YAAA;AAAA,IAAA,KAAA,EAAA,YAAA;AAAA,UAsHE,WAAA,GAAA,iBAAA,EAAA,aAAA,mBAAA,CAAA,IAAA,CAAA,SAAA,QAAA,GAAA;AAAA,YAAA,OAAA;AAAA,YAAA,MAAA,GAAA,SAAA;AAAA,eAAA,mBAAA,CAAA,IAAA,CAAA,SAAA,SAAA,CAAA,SAAA,EAAA;AAAA,iBAAA,CAAA,EAAA;AAAA,oBAAA,SAAA,CAAA,IAAA,GAAA,SAAA,CAAA,IAAA;AAAA,mBAAA,CAAA;AAAiBP,gBAAAA,OAAjB,GAAiD,MAAA,CAAA,MAAA,GAAA,CAAA,IAAA,MAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAEQ,kBAAAA,OAAO,EAAE;AAAX,iBAAhCR;;AAAjB,oBACO,KADP,aAAA,EAAA;AAAA,kBAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,sBACiCC,yBAAyB,CAAzBA,QAAAA,CADjC,iCACiCA,CADjC;;AAAA,mBAAA,CAAA;AAAA,gBAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA,uBAAA,IAAA,CAAA,eAAA,CAAA,mBAAA,CAAA,SAAA,CAAA,EAAA,YAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,IAAA,CAAA;;AAAA,mBAAA,CAAA;AAAA,gBAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA,uBAGQ,KAAA,aAAA,CAHR,MAGQ,EAHR;;AAAA,mBAAA,CAAA;AAIE,oBAAID,OAAO,CAAX,OAAA,EAAqB;AACnB;AACA,uBAAA,MAAA,GAAcpB,cAAc,CAA5B,SAAA;AACA,uBAAA,aAAA,GAAA,IAAA;AACA,uBAAA,cAAA,GAAA,IAAA;AAJF,iBAAA,MAKO;AACL;AACA,uBAAA,MAAA,GAAcA,cAAc,CAA5B,KAAA;AACD;;AAED,qBAAA,IAAA,CAAUmB,cAAc,CAAxB,YAAA;;AAdF,mBAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,uBAAA,SAAA,CAAA,IAAA,EAAA;AAAA;AAAA;AAAA,SAAA,EAAA,QAAA,EAAA,IAAA,CAAA;AAtHF,OAsHE,CAAA,CAtHF;;AAAA,eAAA,UAAA,GAAA;AAAA,eAAA,WAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA;AAAA;;AAAA,aAAA,UAAA;AAAA,KAAA;AAAA,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,aAAA;AAAA,IAAA,KAAA,EAAA,YAAA;AAAA,UAuIE,YAAA,GAAA,iBAAA,EAAA,aAAA,mBAAA,CAAA,IAAA,CAAA,SAAA,QAAA,GAAA;AAAA,YAAA,QAAA;AAAA,eAAA,mBAAA,CAAA,IAAA,CAAA,SAAA,SAAA,CAAA,SAAA,EAAA;AAAA,iBAAA,CAAA,EAAA;AAAA,oBAAA,SAAA,CAAA,IAAA,GAAA,SAAA,CAAA,IAAA;AAAA,mBAAA,CAAA;AAAA,oBAAA,EACM,KAAA,MAAA,KAAgBnB,cAAc,CADpC,SAAA,CAAA,EAAA;AAAA,kBAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,sBACsD2B,gBAAgB,CAAhBA,iBAAAA,CADtD,2BACsDA,CADtD;;AAAA,mBAAA,CAAA;AAAA,oBAEO,KAFP,aAAA,EAAA;AAAA,kBAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA;AAAA;;AAAA,sBAEiCN,yBAAyB,CAAzBA,QAAAA,CAFjC,iCAEiCA,CAFjC;;AAAA,mBAAA,CAAA;AAAA,gBAAA,SAAA,CAAA,IAAA,GAAA,CAAA;AAAA,uBAGyB,KAAA,aAAA,CAHzB,WAGyB,EAHzB;;AAAA,mBAAA,CAAA;AAGQQ,gBAAAA,QAHR,GAAA,SAAA,CAAA,IAGQA;AAHR,uBAAA,SAAA,CAAA,MAAA,CAAA,QAAA,EAAA,QAAA,CAAA;;AAAA,mBAAA,CAAA;AAAA,mBAAA,KAAA;AAAA,uBAAA,SAAA,CAAA,IAAA,EAAA;AAAA;AAAA;AAAA,SAAA,EAAA,QAAA,EAAA,IAAA,CAAA;AAvIF,OAuIE,CAAA,CAvIF;;AAAA,eAAA,WAAA,GAAA;AAAA,eAAA,YAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA;AAAA;;AAAA,aAAA,WAAA;AAAA,KAAA;AAAA,GAAA,EAAA;AAAA,IAAA,GAAA,EAAA,oBAAA;AAAA,IAAA,KA8IE,EAAA,SAAA,kBAAA,CAAA,OAAA,EAAuE;AACrE,UAAI,KAAA,MAAA,KAAgB7B,cAAc,CAAlC,KAAA,EAA0C;;AAC1C,UAAIoB,OAAJ,KAAIA,IAAAA,IAAAA,OAAJ,KAAA,KAAA,CAAIA,IAAAA,OAAO,CAAX,WAAA,EAA0B;AACxB,aAAA,WAAA,GAAmBA,OAAO,CAA1B,WAAA;AACD;;AACD,UAAIA,OAAJ,KAAIA,IAAAA,IAAAA,OAAJ,KAAA,KAAA,CAAIA,IAAAA,OAAO,CAAX,QAAA,EAAuB;AACrB,aAAA,QAAA,GAAgBA,OAAO,CAAvB,QAAA;AACD;AACF;AAtJH,GAAA,CAAA,CAAA;;AAAA,SAAA,mBAAA;AAAA,CAAA,CAAA,iBAAA,CAAA","sourcesContent":["import _asyncToGenerator from '@babel/runtime/helpers/asyncToGenerator';\nimport _classCallCheck from '@babel/runtime/helpers/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/assertThisInitialized';\nimport _get from '@babel/runtime/helpers/get';\nimport _inherits from '@babel/runtime/helpers/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport _regeneratorRuntime from '@babel/runtime/regenerator';\nimport Torus from '@toruslabs/solana-embed';\nimport { WALLET_ADAPTERS, ADAPTER_NAMESPACES, CHAIN_NAMESPACES, ADAPTER_CATEGORY, ADAPTER_STATUS, log, ADAPTER_EVENTS, getChainConfig, WalletLoginError, Web3AuthError, WalletInitializationError } from '@web3auth/base';\nimport { BaseSolanaAdapter } from '@web3auth/base-solana-adapter';\nimport { TorusInjectedProvider } from '@web3auth/solana-provider';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar SolanaWalletAdapter = /*#__PURE__*/function (_BaseSolanaAdapter) {\n  _inherits(SolanaWalletAdapter, _BaseSolanaAdapter);\n\n  var _super = _createSuper(SolanaWalletAdapter);\n\n  function SolanaWalletAdapter(params) {\n    var _this;\n\n    _classCallCheck(this, SolanaWalletAdapter);\n\n    _this = _super.call(this, params);\n\n    _defineProperty(_assertThisInitialized(_this), \"name\", WALLET_ADAPTERS.TORUS_SOLANA);\n\n    _defineProperty(_assertThisInitialized(_this), \"adapterNamespace\", ADAPTER_NAMESPACES.SOLANA);\n\n    _defineProperty(_assertThisInitialized(_this), \"currentChainNamespace\", CHAIN_NAMESPACES.SOLANA);\n\n    _defineProperty(_assertThisInitialized(_this), \"type\", ADAPTER_CATEGORY.EXTERNAL);\n\n    _defineProperty(_assertThisInitialized(_this), \"status\", ADAPTER_STATUS.NOT_READY);\n\n    _defineProperty(_assertThisInitialized(_this), \"torusInstance\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"torusWalletOptions\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"initParams\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"loginSettings\", {});\n\n    _defineProperty(_assertThisInitialized(_this), \"solanaProvider\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"rehydrated\", false);\n\n    _this.torusWalletOptions = params.adapterSettings || {};\n    _this.initParams = params.initParams || {};\n    _this.loginSettings = params.loginSettings || {};\n    _this.chainConfig = params.chainConfig || null;\n    _this.sessionTime = params.sessionTime || 86400;\n    return _this;\n  }\n\n  _createClass(SolanaWalletAdapter, [{\n    key: \"provider\",\n    get: function get() {\n      if (this.status === ADAPTER_STATUS.CONNECTED && this.solanaProvider) {\n        var _this$solanaProvider;\n\n        return ((_this$solanaProvider = this.solanaProvider) === null || _this$solanaProvider === void 0 ? void 0 : _this$solanaProvider.provider) || null;\n      }\n\n      return null;\n    },\n    set: function set(_) {\n      throw new Error(\"Not implemented\");\n    }\n  }, {\n    key: \"init\",\n    value: function () {\n      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(options) {\n        var network, _this$chainConfig, blockExplorer, displayName, ticker, tickerName, rpcTarget, chainId, _this$chainConfig2, _chainId, _blockExplorer, _displayName, _rpcTarget, _ticker, _tickerName;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _get(_getPrototypeOf(SolanaWalletAdapter.prototype), \"checkInitializationRequirements\", this).call(this); // set chainConfig for mainnet by default if not set\n\n\n                if (!this.chainConfig) {\n                  this.chainConfig = getChainConfig(CHAIN_NAMESPACES.SOLANA, \"0x1\");\n                  _this$chainConfig = this.chainConfig, blockExplorer = _this$chainConfig.blockExplorer, displayName = _this$chainConfig.displayName, ticker = _this$chainConfig.ticker, tickerName = _this$chainConfig.tickerName, rpcTarget = _this$chainConfig.rpcTarget, chainId = _this$chainConfig.chainId;\n                  network = {\n                    chainId: chainId,\n                    rpcTarget: rpcTarget,\n                    blockExplorerUrl: blockExplorer,\n                    displayName: displayName,\n                    ticker: ticker,\n                    tickerName: tickerName,\n                    logo: \"\"\n                  };\n                } else {\n                  _this$chainConfig2 = this.chainConfig, _chainId = _this$chainConfig2.chainId, _blockExplorer = _this$chainConfig2.blockExplorer, _displayName = _this$chainConfig2.displayName, _rpcTarget = _this$chainConfig2.rpcTarget, _ticker = _this$chainConfig2.ticker, _tickerName = _this$chainConfig2.tickerName;\n                  network = {\n                    chainId: _chainId,\n                    rpcTarget: _rpcTarget,\n                    blockExplorerUrl: _blockExplorer,\n                    displayName: _displayName,\n                    tickerName: _tickerName,\n                    ticker: _ticker,\n                    logo: \"\"\n                  };\n                }\n\n                this.torusInstance = new Torus(this.torusWalletOptions);\n                log.debug(\"initializing torus solana adapter init\");\n                _context.next = 6;\n                return this.torusInstance.init(_objectSpread(_objectSpread({\n                  showTorusButton: false\n                }, this.initParams), {}, {\n                  network: network\n                }));\n\n              case 6:\n                this.solanaProvider = new TorusInjectedProvider({\n                  config: {\n                    chainConfig: this.chainConfig\n                  }\n                });\n                this.status = ADAPTER_STATUS.READY;\n                this.emit(ADAPTER_EVENTS.READY, WALLET_ADAPTERS.TORUS_SOLANA);\n                _context.prev = 9;\n                log.debug(\"initializing torus solana adapter\");\n\n                if (!options.autoConnect) {\n                  _context.next = 15;\n                  break;\n                }\n\n                this.rehydrated = true;\n                _context.next = 15;\n                return this.connect();\n\n              case 15:\n                _context.next = 21;\n                break;\n\n              case 17:\n                _context.prev = 17;\n                _context.t0 = _context[\"catch\"](9);\n                log.error(\"Failed to connect with cached torus solana provider\", _context.t0);\n                this.emit(ADAPTER_EVENTS.ERRORED, _context.t0);\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 17]]);\n      }));\n\n      function init(_x) {\n        return _init.apply(this, arguments);\n      }\n\n      return init;\n    }()\n  }, {\n    key: \"connect\",\n    value: function () {\n      var _connect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var torusInpageProvider, _this$chainConfig3, chainId, blockExplorer, displayName, rpcTarget, ticker, tickerName, network;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _get(_getPrototypeOf(SolanaWalletAdapter.prototype), \"checkConnectionRequirements\", this).call(this);\n\n                if (this.torusInstance) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n\n              case 3:\n                if (this.solanaProvider) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n\n              case 5:\n                this.status = ADAPTER_STATUS.CONNECTING;\n                this.emit(ADAPTER_EVENTS.CONNECTING, {\n                  adapter: WALLET_ADAPTERS.TORUS_SOLANA\n                });\n                _context2.prev = 7;\n                _context2.next = 10;\n                return this.torusInstance.login(this.loginSettings);\n\n              case 10:\n                _context2.prev = 10;\n                torusInpageProvider = this.torusInstance.provider;\n                torusInpageProvider.sendTransaction = this.torusInstance.sendTransaction.bind(this.torusInstance);\n                torusInpageProvider.signAllTransactions = this.torusInstance.signAllTransactions.bind(this.torusInstance);\n                torusInpageProvider.signMessage = this.torusInstance.signMessage.bind(this.torusInstance);\n                torusInpageProvider.signTransaction = this.torusInstance.signTransaction.bind(this.torusInstance);\n                _context2.next = 18;\n                return this.solanaProvider.setupProvider(torusInpageProvider);\n\n              case 18:\n                _context2.next = 30;\n                break;\n\n              case 20:\n                _context2.prev = 20;\n                _context2.t0 = _context2[\"catch\"](10);\n\n                if (!(_context2.t0 instanceof Web3AuthError && _context2.t0.code === 5010)) {\n                  _context2.next = 29;\n                  break;\n                }\n\n                _this$chainConfig3 = this.chainConfig, chainId = _this$chainConfig3.chainId, blockExplorer = _this$chainConfig3.blockExplorer, displayName = _this$chainConfig3.displayName, rpcTarget = _this$chainConfig3.rpcTarget, ticker = _this$chainConfig3.ticker, tickerName = _this$chainConfig3.tickerName;\n                network = {\n                  chainId: chainId,\n                  rpcTarget: rpcTarget,\n                  blockExplorerUrl: blockExplorer,\n                  displayName: displayName,\n                  tickerName: tickerName,\n                  ticker: ticker,\n                  logo: \"\"\n                };\n                _context2.next = 27;\n                return this.torusInstance.setProvider(network);\n\n              case 27:\n                _context2.next = 30;\n                break;\n\n              case 29:\n                throw _context2.t0;\n\n              case 30:\n                this.status = ADAPTER_STATUS.CONNECTED;\n                this.torusInstance.showTorusButton();\n                this.emit(ADAPTER_STATUS.CONNECTED, {\n                  adapter: WALLET_ADAPTERS.TORUS_SOLANA,\n                  reconnected: this.rehydrated\n                });\n                return _context2.abrupt(\"return\", this.provider);\n\n              case 36:\n                _context2.prev = 36;\n                _context2.t1 = _context2[\"catch\"](7);\n                // ready again to be connected\n                this.status = ADAPTER_STATUS.READY;\n                this.rehydrated = false;\n                this.emit(ADAPTER_EVENTS.ERRORED, _context2.t1);\n                throw WalletLoginError.connectionError(\"Failed to login with torus solana wallet\");\n\n              case 42:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 36], [10, 20]]);\n      }));\n\n      function connect() {\n        return _connect.apply(this, arguments);\n      }\n\n      return connect;\n    }()\n  }, {\n    key: \"disconnect\",\n    value: function () {\n      var _disconnect = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var options,\n            _args3 = arguments;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                options = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : {\n                  cleanup: false\n                };\n\n                if (this.torusInstance) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n\n              case 3:\n                _context3.next = 5;\n                return _get(_getPrototypeOf(SolanaWalletAdapter.prototype), \"disconnect\", this).call(this);\n\n              case 5:\n                _context3.next = 7;\n                return this.torusInstance.logout();\n\n              case 7:\n                if (options.cleanup) {\n                  // ready to connect again\n                  this.status = ADAPTER_STATUS.NOT_READY;\n                  this.torusInstance = null;\n                  this.solanaProvider = null;\n                } else {\n                  // ready to connect again\n                  this.status = ADAPTER_STATUS.READY;\n                }\n\n                this.emit(ADAPTER_EVENTS.DISCONNECTED);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function disconnect() {\n        return _disconnect.apply(this, arguments);\n      }\n\n      return disconnect;\n    }()\n  }, {\n    key: \"getUserInfo\",\n    value: function () {\n      var _getUserInfo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var userInfo;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.status !== ADAPTER_STATUS.CONNECTED)) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n\n              case 2:\n                if (this.torusInstance) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n\n              case 4:\n                _context4.next = 6;\n                return this.torusInstance.getUserInfo();\n\n              case 6:\n                userInfo = _context4.sent;\n                return _context4.abrupt(\"return\", userInfo);\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getUserInfo() {\n        return _getUserInfo.apply(this, arguments);\n      }\n\n      return getUserInfo;\n    }()\n  }, {\n    key: \"setAdapterSettings\",\n    value: function setAdapterSettings(options) {\n      if (this.status === ADAPTER_STATUS.READY) return;\n\n      if (options !== null && options !== void 0 && options.sessionTime) {\n        this.sessionTime = options.sessionTime;\n      }\n\n      if (options !== null && options !== void 0 && options.clientId) {\n        this.clientId = options.clientId;\n      }\n    }\n  }]);\n\n  return SolanaWalletAdapter;\n}(BaseSolanaAdapter);\n\nexport { SolanaWalletAdapter };\n//# sourceMappingURL=torusSolanaAdapter.esm.js.map\n"]},"metadata":{},"sourceType":"module"}